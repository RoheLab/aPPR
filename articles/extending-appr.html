<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="aPPR">
<title>Extending aPPR • aPPR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extending aPPR">
<meta property="og:description" content="aPPR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">aPPR</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9200</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/extending-appr.html">Extending aPPR</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RoheLab/aPPR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Extending aPPR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RoheLab/aPPR/blob/HEAD/vignettes/extending-appr.Rmd" class="external-link"><code>vignettes/extending-appr.Rmd</code></a></small>
      <div class="d-none name"><code>extending-appr.Rmd</code></div>
    </div>

    
    
<p>Suppose you want to calculate personalized PageRanks for some graph
that is not supported by <code>aPPR</code>. You can extend
<code>aPPR</code> to arbitrary graph objects, so long the graph object
is an S3 object with methods:</p>
<ul>
<li><code><a href="../reference/check.html">check()</a></code></li>
<li><code><a href="../reference/node_degrees.html">node_degrees()</a></code></li>
<li><code><a href="../reference/neighborhood.html">neighborhood()</a></code></li>
<li>
<code><a href="../reference/appr.html">appr()</a></code> (optional)</li>
</ul>
<p>See the documentation for those S3 generics to understand the generic
specification fully!</p>
<p>We demonstrate how to implement these methods below for a new, custom
graph object. In this case, we will consider the PubMed citation
network, which we will interact via the PubMed API, using the
<code>rentrez</code> package. First, we define a constructor function
that returns a custom S3 graph object that subclasses
<code>abstract_graph</code>. You can install rentrez with
<code>pak::pak("ropensci/rentrez")</code>, and do not need to set up any
authentication to begin using the API.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RoheLab/aPPR" class="external-link">aPPR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://daroczig.github.io/logger/" class="external-link">logger</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidyverse/glue" class="external-link">glue</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rentrez/" class="external-link">rentrez</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># constructor for PubMed graph object (defined over API)</span></span>
<span><span class="va">pubmed_graph</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">max_attempts</span> <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"rentrez"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span></span>
<span>      <span class="st">"`rentrez` package must be installed to use `pubmed_graph()`"</span>,</span>
<span>      call. <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="va">agraph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/abstract_graph.html">abstract_graph</a></span><span class="op">(</span></span>
<span>    subclass <span class="op">=</span> <span class="st">"pubmed"</span>,</span>
<span>    max_attempts <span class="op">=</span> <span class="va">max_attempts</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">agraph</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu">pubmed_graph</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">graph</span></span>
<span><span class="co">#&gt; Abstract graph object (subclass: pubmed)</span></span></code></pre></div>
<p>Now we want to implement S3 methods for the <code>pubmed</code>
object. In some cases, you can query data from a graph in large batches,
but with the PubMed API it simpler (at least to my limited knowledge) to
query node by node, with no bulk lookups. It turns out that we can get
neighborhoods and node in-degree and node out-degree all at once, using
<code><a href="https://docs.ropensci.org/rentrez/reference/entrez_link.html" class="external-link">rentrez::entrez_link()</a></code>. We give the function three attempts
(by default) to successfully complete this API call, since APIs
sometimes fail. Then, since we will need this information repeatedly, we
memoize the function, to avoid repeated calls to the API.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># one node at a time</span></span>
<span><span class="va">get_pubmed_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">graph</span>, <span class="va">node</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">graph</span><span class="op">$</span><span class="va">max_attempts</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_trace</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Attempt {i}/{graph$max_attempts} to get node degrees: {node}"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>      <span class="op">{</span></span>
<span>        <span class="va">cites</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/rentrez/reference/entrez_link.html" class="external-link">entrez_link</a></span><span class="op">(</span>dbfrom <span class="op">=</span> <span class="st">"pubmed"</span>, db <span class="op">=</span> <span class="st">"all"</span>, id <span class="op">=</span> <span class="va">node</span><span class="op">)</span></span>
<span>        <span class="kw">break</span></span>
<span>      <span class="op">}</span>,</span>
<span>      error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">cnd</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op">==</span> <span class="va">graph</span><span class="op">$</span><span class="va">max_attempts</span><span class="op">)</span> <span class="op">{</span></span>
<span>          <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span></span>
<span>            <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Maximum attempts to find neighborhood met, could not find: {node}"</span><span class="op">)</span></span>
<span>          <span class="op">)</span></span>
<span>          <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Couldn't pull data for node"</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    refs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cites</span><span class="op">$</span><span class="va">links</span><span class="op">$</span><span class="va">pubmed_pubmed_refs</span><span class="op">)</span>,</span>
<span>    citedby <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cites</span><span class="op">$</span><span class="va">links</span><span class="op">$</span><span class="va">pubmed_pubmed_citedin</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">data</span><span class="op">$</span><span class="va">num_refs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">refs</span><span class="op">)</span></span>
<span>  <span class="va">data</span><span class="op">$</span><span class="va">num_citedby</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">citedby</span><span class="op">)</span></span>
<span>  <span class="va">data</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">memo_get_pubmed_data</span> <span class="op">&lt;-</span> <span class="fu">memoise</span><span class="fu">::</span><span class="fu"><a href="https://memoise.r-lib.org/reference/memoise.html" class="external-link">memoise</a></span><span class="op">(</span><span class="va">get_pubmed_data</span><span class="op">)</span></span></code></pre></div>
<p>Now we test the function. I’m not currently sure that it’s working:
it’s suspicious for two papers to have in-degree and out-degree all
equal to 18 – we need to dig into this and find out if the API is
limited to returning a maximum of API results in a single call, for
example.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">good_node_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"30345262"</span>, <span class="st">"29624432"</span>, <span class="st">"29867837"</span><span class="op">)</span></span>
<span><span class="va">bad_node_id</span> <span class="op">&lt;-</span> <span class="st">"I am a pumpkin"</span></span>
<span><span class="va">mixed_node_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">good_node_ids</span>, <span class="va">bad_node_id</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this is suspicious to me, something seems wrong here</span></span>
<span><span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; $refs</span></span>
<span><span class="co">#&gt;  [1] "29624432" "28956619" "27755345" "24936257" "24059552" "23149807"</span></span>
<span><span class="co">#&gt;  [7] "22371471" "22128211" "20840052" "20836729" "20689101" "20036928"</span></span>
<span><span class="co">#&gt; [13] "19879747" "19783003" "19718579" "18792926" "18477059" "18256996"</span></span>
<span><span class="co">#&gt; [19] "17943776" "17920516" "17499247" "17127265" "16601269" "16556615"</span></span>
<span><span class="co">#&gt; [25] "16061595" "15687416" "15665383" "15499145" "15177673" "14725946"</span></span>
<span><span class="co">#&gt; [31] "12667636" "12496220" "11150646" "11041438" "10386225" "10225288"</span></span>
<span><span class="co">#&gt; [37] "9768331"  "9691157"  "9227580"  "9145435"  "9131263"  "8525349" </span></span>
<span><span class="co">#&gt; [43] "7999032"  "7733322"  "7720662"  "7603298"  "6607683"  "3029864" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $citedby</span></span>
<span><span class="co">#&gt; [1] "35455075" "33190629" "32785463" "31979022"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_refs</span></span>
<span><span class="co">#&gt; [1] 48</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_citedby</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span></span>
<span><span class="co"># suspicious that the number of in-cites and out-cites matches, and that it</span></span>
<span><span class="co"># matches across both papers! TODO: investigate!</span></span>
<span><span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; $refs</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $citedby</span></span>
<span><span class="co">#&gt;  [1] "36892193" "36293784" "36111739" "35799170" "35757994" "35565846"</span></span>
<span><span class="co">#&gt;  [7] "34211314" "34205900" "33976584" "33210456" "32911625" "31835736"</span></span>
<span><span class="co">#&gt; [13] "31236026" "31137691" "30882237" "30592165" "30345262" "30234121"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_refs</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_citedby</span></span>
<span><span class="co">#&gt; [1] 18</span></span>
<span><span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; $refs</span></span>
<span><span class="co">#&gt;  [1] "28418291" "28159212" "28135118" "28103607" "28088062" "27936476"</span></span>
<span><span class="co">#&gt;  [7] "27889615" "27831549" "27755345" "27684560" "27566870" "27490567"</span></span>
<span><span class="co">#&gt; [13] "26903304" "26741949" "26334428" "26238662" "26190380" "26116636"</span></span>
<span><span class="co">#&gt; [19] "26086569" "25794697" "25769062" "25728542" "25313944" "24767058"</span></span>
<span><span class="co">#&gt; [25] "24752468" "24376898" "24200019" "24169308" "24084373" "23805943"</span></span>
<span><span class="co">#&gt; [31] "23769834" "23713111" "23274339" "23271066" "23178065" "23178060"</span></span>
<span><span class="co">#&gt; [37] "22371471" "22245400" "21921811" "21638200" "21622093" "21247481"</span></span>
<span><span class="co">#&gt; [43] "20946146" "20509779" "19832716" "19516191" "19414822" "19127217"</span></span>
<span><span class="co">#&gt; [49] "18845249" "18477059" "18422617" "18419467" "17868474" "17661617"</span></span>
<span><span class="co">#&gt; [55] "17517714" "16266685" "15886342" "14657823" "14633102" "12732956"</span></span>
<span><span class="co">#&gt; [61] "11740876" "10791723" "10432587" "8489717"  "8274003"  "6323663" </span></span>
<span><span class="co">#&gt; [67] "318682"  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $citedby</span></span>
<span><span class="co">#&gt;  [1] "37060103" "36330365" "36193380" "35874591" "35454995" "35127595"</span></span>
<span><span class="co">#&gt;  [7] "35124754" "33623528" "33546253" "33276234" "31803156" "31137691"</span></span>
<span><span class="co">#&gt; [13] "30873395" "30770541" "30560111" "30443539" "30356694" "30319659"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_refs</span></span>
<span><span class="co">#&gt; [1] 67</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_citedby</span></span>
<span><span class="co">#&gt; [1] 18</span></span>
<span></span>
<span><span class="co"># check that we handle bad node ids in some reliable way, in this case</span></span>
<span><span class="co"># it looks we get empty results</span></span>
<span><span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">bad_node_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; $refs</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $citedby</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_refs</span></span>
<span><span class="co">#&gt; [1] 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $num_citedby</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Check method for `pubmed` graph objects</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param graph A `pubmed` graph object</span></span>
<span><span class="co">#' @param nodes A **character** vector of node ids. **Can be empty!**</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return A **character** vector of node ids that we can reach in the graph.</span></span>
<span><span class="co">#'   For example, some nodes ids may not be reachable due to API failures,</span></span>
<span><span class="co">#'   or, more generally, permissions failures.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#'   If `nodes` is the empty vector, returns the empty vector. Be sure to</span></span>
<span><span class="co">#'   handle this edge case.</span></span>
<span><span class="va">check.pubmed</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">graph</span>, <span class="va">nodes</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Checking nodes"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># handle the case where no nodes are passed</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">nodes</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="va">good_nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">node</span> <span class="kw">in</span> <span class="va">nodes</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">node_data</span> <span class="op">&lt;-</span> <span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">node</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># this is a sufficient check to see if (1) the node is in pubmed, (2)</span></span>
<span>    <span class="co"># we can pull it's neighborhood, and (3) it has at least one</span></span>
<span>    <span class="co"># incoming or outgoing citation</span></span>
<span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">node_data</span><span class="op">$</span><span class="va">num_refs</span> <span class="op">+</span> <span class="va">node_data</span><span class="op">$</span><span class="va">num_citedby</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_trace</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Checked node: {node} (good)"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="va">good_nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">good_nodes</span>, <span class="va">node</span><span class="op">)</span></span>
<span>      <span class="kw">next</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_trace</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Checked node: {node} (bad)"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="va">good_nodes</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now we test our implementation. To do this, we should give at least
one good node id, and at least one bad node id. Only the good node id
should be returned.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check.html">check</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "30345262" "29624432" "29867837"</span></span>
<span><span class="fu"><a href="../reference/check.html">check</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">bad_node_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="fu"><a href="../reference/check.html">check</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">mixed_node_ids</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "30345262" "29624432" "29867837"</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Degree method for `pubmed` graph objects</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param graph A `pubmed` graph object</span></span>
<span><span class="co">#' @param nodes A **character** vector of node ids. **Cannot be empty.** Should</span></span>
<span><span class="co">#'   not contain duplicates if `check()` is properly implemented and does</span></span>
<span><span class="co">#'   not output duplicates.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return A list, with two elements, `in_degree` and `out_degree`. Both</span></span>
<span><span class="co">#'   should be the same length as `nodes`, and match the order of `nodes`.</span></span>
<span><span class="co">#'</span></span>
<span><span class="va">node_degrees.pubmed</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">graph</span>, <span class="va">nodes</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Getting node degrees"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">degrees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    in_degree <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">nodes</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    out_degree <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">nodes</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">nodes</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Getting node degrees for node: {nodes[i]}"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">node_data</span> <span class="op">&lt;-</span> <span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">nodes</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co"># must treat pubmed like an undirected graph. otherwise it's a citation</span></span>
<span>    <span class="co"># network, and thus a tree, and thus no pair of nodes is mutually</span></span>
<span>    <span class="co"># reachable, thus pagerank is not defined</span></span>
<span></span>
<span>    <span class="va">degrees</span><span class="op">$</span><span class="va">in_degree</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">node_data</span><span class="op">$</span><span class="va">num_citedby</span> <span class="op">+</span> <span class="va">node_data</span><span class="op">$</span><span class="va">num_refs</span></span>
<span>    <span class="va">degrees</span><span class="op">$</span><span class="va">out_degree</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">node_data</span><span class="op">$</span><span class="va">num_citedby</span> <span class="op">+</span> <span class="va">node_data</span><span class="op">$</span><span class="va">num_refs</span></span>
<span></span>
<span>    <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_trace</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"In-degree for node: {degrees$in_degree[i]}"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_trace</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Out-degree for node: {degrees$out_degree[i]}"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Done getting node degrees"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">degrees</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>To test this method, we should pass a character vector of several
good node ids.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># test with a single node</span></span>
<span><span class="fu"><a href="../reference/node_degrees.html">node_degrees</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; $in_degree</span></span>
<span><span class="co">#&gt; [1] 52</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $out_degree</span></span>
<span><span class="co">#&gt; [1] 52</span></span>
<span></span>
<span><span class="co"># test with multiple nodes! this is the key one! this is suspicious, and</span></span>
<span><span class="co"># means we need to check if our function memo_get_pubmed_data() is working</span></span>
<span><span class="fu"><a href="../reference/node_degrees.html">node_degrees</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">)</span></span>
<span><span class="co">#&gt; $in_degree</span></span>
<span><span class="co">#&gt; [1] 52 18 85</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $out_degree</span></span>
<span><span class="co">#&gt; [1] 52 18 85</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Neighborhood method for `pubmed` graph objects</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param graph A `pubmed` graph object</span></span>
<span><span class="co">#' @param nodes A length one character vector, for a node in the graph with</span></span>
<span><span class="co">#'   at least one outgoing edge.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return A **character** vector of node ids for the graph neighborhood.</span></span>
<span><span class="co">#'   Should be a vector of length at least one (if the `check()` method was</span></span>
<span><span class="co">#'   implemented correctly), and should not contain duplicates.</span></span>
<span><span class="va">neighborhood.pubmed</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">graph</span>, <span class="va">node</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">node</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"`node` must be a character vector of length one."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Getting neighborhood: {node}"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">node_data</span> <span class="op">&lt;-</span> <span class="fu">memo_get_pubmed_data</span><span class="op">(</span><span class="va">graph</span>, <span class="va">node</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://daroczig.github.io/logger/reference/log_level.html" class="external-link">log_debug</a></span><span class="op">(</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Done getting neighborhood: {node}"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">node_data</span><span class="op">$</span><span class="va">refs</span>, <span class="va">node_data</span><span class="op">$</span><span class="va">citedby</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/neighborhood.html">neighborhood</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "29624432" "28956619" "27755345" "24936257" "24059552" "23149807"</span></span>
<span><span class="co">#&gt;  [7] "22371471" "22128211" "20840052" "20836729" "20689101" "20036928"</span></span>
<span><span class="co">#&gt; [13] "19879747" "19783003" "19718579" "18792926" "18477059" "18256996"</span></span>
<span><span class="co">#&gt; [19] "17943776" "17920516" "17499247" "17127265" "16601269" "16556615"</span></span>
<span><span class="co">#&gt; [25] "16061595" "15687416" "15665383" "15499145" "15177673" "14725946"</span></span>
<span><span class="co">#&gt; [31] "12667636" "12496220" "11150646" "11041438" "10386225" "10225288"</span></span>
<span><span class="co">#&gt; [37] "9768331"  "9691157"  "9227580"  "9145435"  "9131263"  "8525349" </span></span>
<span><span class="co">#&gt; [43] "7999032"  "7733322"  "7720662"  "7603298"  "6607683"  "3029864"</span></span>
<span><span class="fu"><a href="../reference/neighborhood.html">neighborhood</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="../reference/neighborhood.html">neighborhood</a></span><span class="op">(</span><span class="va">graph</span>, <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "28418291" "28159212" "28135118" "28103607" "28088062" "27936476"</span></span>
<span><span class="co">#&gt;  [7] "27889615" "27831549" "27755345" "27684560" "27566870" "27490567"</span></span>
<span><span class="co">#&gt; [13] "26903304" "26741949" "26334428" "26238662" "26190380" "26116636"</span></span>
<span><span class="co">#&gt; [19] "26086569" "25794697" "25769062" "25728542" "25313944" "24767058"</span></span>
<span><span class="co">#&gt; [25] "24752468" "24376898" "24200019" "24169308" "24084373" "23805943"</span></span>
<span><span class="co">#&gt; [31] "23769834" "23713111" "23274339" "23271066" "23178065" "23178060"</span></span>
<span><span class="co">#&gt; [37] "22371471" "22245400" "21921811" "21638200" "21622093" "21247481"</span></span>
<span><span class="co">#&gt; [43] "20946146" "20509779" "19832716" "19516191" "19414822" "19127217"</span></span>
<span><span class="co">#&gt; [49] "18845249" "18477059" "18422617" "18419467" "17868474" "17661617"</span></span>
<span><span class="co">#&gt; [55] "17517714" "16266685" "15886342" "14657823" "14633102" "12732956"</span></span>
<span><span class="co">#&gt; [61] "11740876" "10791723" "10432587" "8489717"  "8274003"  "6323663" </span></span>
<span><span class="co">#&gt; [67] "318682"</span></span></code></pre></div>
<p>Lastly, you can optionally implement an <code>appr</code> method for
your abstract graph subclass. In the <code>appr</code> method for the
subclass, you can do things like:</p>
<ul>
<li>Add functionality to convert a convenient seed node name (in this,
possibly something like a DOI) into the internal node name
representation (see <code><a href="../reference/appr.html">appr.rtweet_graph()</a></code> for an example of
this)</li>
<li>Checks that you have appropriate authorization to pull information
about the seed nodes</li>
<li>Etc, etc</li>
</ul>
<p>This custom subclass method will run before the general
<code>appr.abstract_graph()</code>. We don’t have a particular need to
do anything of that here, so we do not.</p>
<div class="section level3">
<h3 id="debugging">Debugging<a class="anchor" aria-label="anchor" href="#debugging"></a>
</h3>
<p>If you are accessing a graph over an API, it’s likely that you will
encounter edge cases where the API returns no data, or data in a format
that you did not expect. We highly recommend using logging to debug your
implementation when this happens, using the <code>logger</code> library.
See that <code>logger</code> documentation for details.</p>
<p>Find any errors, fix, and rinse and repeat until you’ve completed the
likely unpleasant task of tracking down all the edges cases in the API.
In our, we don’t seem to find any edge cases right away.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://daroczig.github.io/logger/" class="external-link">logger</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set logging threshold for code you just wrote, if desired</span></span>
<span><span class="fu"><a href="https://daroczig.github.io/logger/reference/log_threshold.html" class="external-link">log_threshold</a></span><span class="op">(</span><span class="va">TRACE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set logging threshold for aPPR package functions, if desired</span></span>
<span><span class="fu"><a href="https://daroczig.github.io/logger/reference/log_threshold.html" class="external-link">log_threshold</a></span><span class="op">(</span><span class="va">DEBUG</span>, namespace <span class="op">=</span> <span class="st">"aPPR"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/appr.html">appr</a></span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,                     <span class="co"># the graph to work with</span></span>
<span>  seeds <span class="op">=</span> <span class="va">good_node_ids</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,  <span class="co"># name of seed node (character)</span></span>
<span>  epsilon <span class="op">=</span> <span class="fl">0.0005</span>,          <span class="co"># desired approximation quality</span></span>
<span>  max_visits <span class="op">=</span> <span class="fl">10</span>            <span class="co"># bound computation since this is an example</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Maximum visits reached. Finishing aPPR calculation early.</span></span>
<span><span class="co">#&gt; Personalized PageRank Approximator</span></span>
<span><span class="co">#&gt; ----------------------------------</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   - number of seeds: 1</span></span>
<span><span class="co">#&gt;   - unique nodes visited so far: 10 out of maximum of 10</span></span>
<span><span class="co">#&gt;   - total visits so far: 12</span></span>
<span><span class="co">#&gt;   - bad nodes so far: 0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   - teleportation constant (alpha): 0.15</span></span>
<span><span class="co">#&gt;   - desired approximation error (epsilon): 5e-04</span></span>
<span><span class="co">#&gt;   - achieved bound on approximation error: 0.0128954318143507</span></span>
<span><span class="co">#&gt;   - length of to visit list: 25</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; PPR table (see $stats field):</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 49 × 7</span></span></span>
<span><span class="co">#&gt;    name     regularized        p in_degree out_degree degree_adjusted       r</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 30345262  0.000<span style="text-decoration: underline;">777</span>   0.118           52         52        0.002<span style="text-decoration: underline;">28</span>  0.211  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 29624432  0          0               18         18        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 28956619  0.000<span style="text-decoration: underline;">007</span>07 0.000<span style="text-decoration: underline;">716</span>         1          1        0.000<span style="text-decoration: underline;">716</span> 0.008<span style="text-decoration: underline;">12</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 27755345  0          0               32         32        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 24936257  0          0               87         87        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 24059552  0          0               15         15        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 23149807  0          0               13         13        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 22371471  0          0             <span style="text-decoration: underline;">1</span>231       <span style="text-decoration: underline;">1</span>231        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 22128211  0          0               32         32        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 20840052  0          0               52         52        0        0.012<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 39 more rows</span></span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://alexpghayes.com" class="external-link">Alex Hayes</a>, Fan Chen, Karl Rohe.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
